/**
 * Moon v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(e,r){"undefined"==typeof module?e.Moon=r():module.exports=r()}(this,(function(){"use strict";function e(e,r){this.name=e,this.data=r}var r=null,a=null;function t(e){r=e}function n(e){a=e}Node.prototype.MoonChildren=null;var o={};function i(e){var r=e.name;if("text"===r)return document.createTextNode(e.data.data);var a=document.createElement(r),t=e.data;for(var n in t){var o=t[n];if("o"===n[0]&&"n"===n[1])a[n.toLowerCase()]=o;else switch(n){case"attributes":for(var s in o)a.setAttribute(s,o[s]);break;case"style":var l=a.style;for(var u in o)l[u]=o[u];break;case"focus":o&&a.focus();break;case"class":a.className=o;break;case"for":a.htmlFor=o;break;case"children":for(var d=a.MoonChildren=[],c=0;c<o.length;c++){var f=i(o[c]);d.push(f),a.appendChild(f)}break;default:a[n]=o}}return a}for(var s=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"],l={node:function(r){return function(a){return new e(r,a)}}},u=function(r){var a=s[r];l[a]=function(r){return new e(a,r)}},d=0;d<s.length;d++)u(d);var c=/^([^:]+):\s*([^]*?)\s*$/gm;var f={configure:function(e){for(var r in e)f[r].configure(e[r])},data:{},http:{send:function(e){for(var r=function(r){var a=e[r],t=new XMLHttpRequest;if(t.responseType="responseType"in a?a.responseType:"text","onLoad"in a&&(t.onload=function(){for(var e,r={},n=t.getAllResponseHeaders();null!==(e=c.exec(n));)r[e[1]]=e[2];a.onLoad({status:t.status,headers:r,body:t.response})}),"onError"in a&&(t.onerror=a.onError),t.open("method"in a?a.method:"GET",a.url),"headers"in a){var n=a.headers;for(var o in n)t.setRequestHeader(o,n[o])}t.send("body"in a?a.body:null)},a=0;a<e.length;a++)r(a)}},route:{navigate:function(e){history.pushState(null,"",e)},read:function(){return location.pathname},router:function(e){for(var r=e.route,a="/",t=e.routes,n=1;n<r.length;n++){var o=r[n];"/"===o?(t=(a in t?t[a]:t["/*"])[1],a="/"):a+=o}return(a in t?t[a]:t["/*"])[0](e)}},storage:localStorage,time:{tell:function(){return Date.now()}},version:"1.0.0-beta.7",view:{components:l,configure:function(r){if("root"in r){n(r.root);for(var o=a.attributes,i={},s=0;s<o.length;s++){var l=o[s];i[l.name]=l.value}t(new e(a.tagName.toLowerCase(),i))}},render:function(e){if(r.name===e.name)!function e(r,a,t){var n=r.data,s=t.data;for(var l in s){var u=n[l],d=s[l];if(u!==d)if("o"===l[0]&&"n"===l[1])a[l.toLowerCase()]=d;else switch(l){case"attributes":if(void 0===u)for(var c in d)a.setAttribute(c,d[c]);else{for(var f in d){var v=d[f];u[f]!==v&&a.setAttribute(f,v)}for(var m in u)m in d||a.removeAttribute(m)}break;case"style":var h=a.style;if(void 0===u)for(var p in d)h[p]=d[p];else{for(var b in d){var g=d[b];u[b]!==g&&(h[b]=g)}for(var k in u)k in d||(h[k]="")}break;case"focus":d?a.focus():a.blur();break;case"class":a.className=d;break;case"for":a.htmlFor=d;break;case"children":var y=d.length;if(void 0===u)for(var C=a.MoonChildren=[],w=0;w<y;w++){var x=i(d[w]);C.push(x),a.appendChild(x)}else{var M=u.length;if(M===y)for(var N=a.MoonChildren,L=0;L<M;L++){var A=u[L],T=d[L];if(A!==T)if(A.name===T.name)e(A,N[L],T);else{var q=i(T);a.replaceChild(q,N[L]),N[L]=q}}else if(M>y){for(var E=a.MoonChildren,F=0;F<y;F++){var H=u[F],R=d[F];if(H!==R)if(H.name===R.name)e(H,E[F],R);else{var S=i(R);a.replaceChild(S,E[F]),E[F]=S}}for(var j=y;j<M;j++)a.removeChild(E.pop())}else{for(var D=a.MoonChildren,G=0;G<M;G++){var X=u[G],$=d[G];if(X!==$)if(X.name===$.name)e(X,D[G],$);else{var z=i($);a.replaceChild(z,D[G]),D[G]=z}}for(var B=M;B<y;B++){var I=i(d[B]);D.push(I),a.appendChild(I)}}}break;default:a[l]=d}}for(var J in n)if(!(J in s))if("o"===J[0]&&"n"===J[1])a[J.toLowerCase()]=null;else switch(J){case"attributes":var K=n.attributes;for(var O in K)a.removeAttribute(O);break;case"focus":a.blur();break;case"class":a.className="";break;case"for":a.htmlFor="";break;case"children":for(var P=n.children.length,Q=a.MoonChildren,U=0;U<P;U++)a.removeChild(Q.pop());break;default:var V=r.name;a[J]=(V in o?o[V]:o[V]="text"===V?document.createTextNode(""):document.createElement(V))[J]}}(r,a,e);else{var s=i(e);a.parentNode.replaceChild(s,a),n(s)}t(e)}}};return f}));