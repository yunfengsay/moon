/**
 * Moon Compiler v1.0.0-beta.7
 * Copyright 2016-2020 Kabir Shah
 * Released under the MIT License
 * https://moonjs.org
 */
!function(t,n){"undefined"==typeof module?t.MoonCompiler=n():module.exports=n()}(this,(function(){"use strict";var t=/[$\w.]/;function n(t,n){this.expected=t,this.index=n}var e=function(t,e){return function(r,a){var o=e(r,a);return o instanceof n?o:[{type:t,value:o[0]},o[1]]}},r=function(t,e){return e===t.length?["EOF",e]:new n("EOF",e)},a=function(t,e){return e<t.length?[t[e],e+1]:new n("any",e)},o=function(t){return function(e,r){var a=e[r];return a===t?[a,r+1]:new n('"'+t+'"',r)}},i=function(t){return function(e,r){var a=e[r];return void 0!==a&&t.test(a)?[a,r+1]:new n(t.toString(),r)}},u=function(t){return function(e,r){var a=r+t.length;return e.slice(r,a)===t?[t,a]:new n('"'+t+'"',r)}},s=function(t){return function(e,r){if(r<e.length){for(var a=0;a<t.length;a++){var o=t[a];if(e.slice(r,r+o.length)===o)return new n('not "'+o+'"',r)}return[e[r],r+1]}return new n("not "+t.map(JSON.stringify).join(", "),r)}},f=function(t,e){return function(r,a){var o=t(r,a);if(o instanceof n){var i=e(r,a);return i instanceof n&&o.index>i.index?o:i}return o}},c=function(t,e){return function(r,a){var o=t(r,a);if(o instanceof n)return o;var i=e(r,o[1]);return i instanceof n?i:[[o[0],i[0]],i[1]]}},l=function(t){return function(e,r){for(var a=[],o=0;o<t.length;o++){var i=t[o](e,r);if(i instanceof n)return i;a.push(i[0]),r=i[1]}return[a,r]}},p=function(t){return function(e,r){for(var a=new n("alternates",-1),o=0;o<t.length;o++){var i=t[o](e,r);if(!(i instanceof n))return i;i.index>a.index&&(a=i)}return a}},d=function(t){return function(e,r){for(var a,o=[];!((a=t(e,r))instanceof n);)o.push(a[0]),r=a[1];return[o,r]}},v=function(t){return function(e,r){var a=[],o=t(e,r);if(o instanceof n)return o;for(a.push(o[0]),r=o[1];!((o=t(e,r))instanceof n);)a.push(o[0]),r=o[1];return[a,r]}},m={comment:e("comment",l([o("#"),d(f(c(o("\\"),a),s(["#"]))),o("#")])),separator:function(t,n){return d(f(p([o(" "),o("\t"),o("\n")]),m.comment))(t,n)},value:function(n,e){return p([v(i(t)),l([o('"'),d(f(c(o("\\"),a),s(['"']))),o('"')]),l([o("'"),d(f(c(o("\\"),a),s(["'"]))),o("'")]),l([o("`"),d(f(c(o("\\"),a),s(["`"]))),o("`")]),l([o("("),m.expression,o(")")]),l([o("["),m.expression,o("]")]),l([o("{"),m.expression,o("}")])])(n,e)},attributes:function(t,n){return e("attributes",d(l([m.value,o("="),m.value,m.separator])))(t,n)},text:e("text",v(f(c(o("\\"),a),s(["{","<"])))),interpolation:function(t,n){return e("interpolation",l([o("{"),m.expression,o("}")]))(t,n)},node:function(t,n){return e("node",l([o("<"),m.separator,m.value,m.separator,u("*>")]))(t,n)},nodeData:function(t,n){return e("nodeData",l([o("<"),m.separator,m.value,m.separator,f(c(m.value,u("/>")),c(m.attributes,u("/>")))]))(t,n)},nodeDataChildren:function(t,n){return e("nodeDataChildren",l([o("<"),m.separator,m.value,m.separator,m.attributes,o(">"),d(p([m.node,m.nodeData,m.nodeDataChildren,m.text,m.interpolation])),u("</"),d(s([">"])),o(">")]))(t,n)},expression:function(t,n){return d(p([l([u("//"),d(s(["\n"]))]),l([u("/*"),d(s(["*/"])),u("*/")]),l([o("/"),v(f(c(o("\\"),s(["\n"])),s(["/","\n"]))),o("/")]),m.comment,m.value,m.node,m.nodeData,m.nodeDataChildren,o("/"),o("<"),v(s(["/","#",'"',"'","`","(",")","[","]","{","}","<"]))]))(t,n)},main:function(t,n){return c(m.expression,r)(t,n)}};function h(t){return m.main(t,0)}var b=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"];var g=/^\s+$/,x=/(^|[^\\])("|\n)/g;function y(t){var n=w(t);return-1===b.indexOf(n)?n:"Moon.view.components."+n}function w(t){var n=t.type;if("string"==typeof t)return t;if(Array.isArray(t)){for(var e="",r=0;r<t.length;r++)e+=w(t[r]);return e}if("comment"===n)return"/*"+w(t.value[1])+"*/";if("attributes"===n){for(var a=t.value,o="",i="",u=0;u<a.length;u++){var s=a[u];o+=i+'"'+w(s[0])+'":'+w(s[2])+w(s[3]),i=","}return{output:o,separator:i}}if("text"===n){var f=w(t.value),c=g.test(f)&&-1!==f.indexOf("\n");return{output:c?f:'Moon.view.components.text({data:"'+f.replace(x,(function(t,n,e){return n+('"'===e?'\\"':"\\n\\\n")}))+'"})',isWhitespace:c}}if("interpolation"===n)return"Moon.view.components.text({data:"+w(t.value[1])+"})";if("node"===n){var l=t.value;return w(l[1])+y(l[2])+w(l[3])}if("nodeData"===n){var p=t.value,d=p[4][0],v=w(d);return""+w(p[1])+y(p[2])+w(p[3])+"("+("attributes"===d.type?"{"+v.output+"}":v)+")"}if("nodeDataChildren"===n){var m,h=t.value,b=w(h[4]),D=h[6],k=D.length;if(0===k)m="";else{var C="";m=b.separator+"children:[";for(var O=0;O<k;O++){var M=D[O],q=w(M);"text"===M.type?q.isWhitespace?m+=q.output:(m+=C+q.output,C=","):(m+=C+q,C=",")}m+="]"}return""+w(h[1])+y(h[2])+w(h[3])+"({"+b.output+m+"})"}}return{compile:function(t){var n=h(t);return w(n[0][0])},generate:w,parse:h,version:"1.0.0-beta.7"}}));